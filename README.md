# Vue Social Demo

一個使用 Vue.js + Strapi 開發的社群平台，實現了基本的社交媒體功能。這是個人練習專案，主要用來學習和展示現代前端技術的應用。

## 近期更新

### 多圖片上傳與拖曳排序

- 貼文上傳功能新增多圖片上傳，最多可上傳 10 張圖片。
- 支援拖曳排序功能，使用者可自由調整圖片順序，確保展示效果。

### 編輯與刪除貼文

- 使用者可以更新貼文內容與標籤。
- 使用者可以移除不需要的貼文。

### 編輯與刪除評論

- **編輯評論**：使用者可以在留言後的 15 分鐘內編輯自己的評論，倒數計時會即時顯示剩餘時間。
  - 倒數計時剩餘 5 分鐘時，會顯示警告樣式（紅色背景與閃爍動畫）。
  - 超過 15 分鐘後，編輯功能會自動禁用，並顯示「已超時」提示。
- **刪除評論**：使用者可以刪除自己的評論，刪除後評論會即時從列表中移除。
- **即時更新**：編輯或刪除評論後，頁面會即時更新，無需重新整理。

## 實際功能介紹

### 會員系統

- **註冊登入**：支援 email 註冊和登入，包含表單驗證
- **JWT 驗證**：使用 Token 保持登入狀態
- **個人資料編輯**：可以修改用戶名、顯示名稱、手機、個人簡介、網站連結、性別
- **頭像上傳**：支援圖片上傳並即時預覽（限制 5MB）

### 貼文功能

- **發布貼文**：可上傳多張圖片並加上文字描述。
- **拖曳排序**：支援拖曳圖片排序，確保圖片順序符合需求。
- **標籤系統**：支援 `#標籤` 格式，會自動識別並分離顯示，點擊後直接進行搜尋
- **內容瀏覽**：首頁可以看到所有人的貼文
- **搜尋功能**：可以根據貼文內容關鍵字搜尋
- **貼文詳情**：點擊貼文會開啟彈窗，顯示完整內容和留言
- **編輯與刪除貼文**：可編輯貼文內容或刪除貼文。

### 互動功能

- **按讚功能**：可以對貼文按讚或取消，會即時更新數量。雙擊圖片也能點讚
- **收藏功能**：可以收藏貼文，之後在個人頁面查看
- **留言系統**：可以在貼文下方留言，支援多層對話
- **即時更新**：互動後會馬上反映在 UI 上
- **編輯與刪除留言**：可編輯留言內容或刪除留言。

### 個人頁面

- **個人資料展示**：顯示頭像、用戶名、簡介、網站連結等
- **貼文管理**：
  - 「我的」標籤：查看自己發布的所有貼文
  - 「讚過」標籤：查看自己按過讚的貼文
  - 「收藏」標籤：查看自己收藏的貼文（僅自己可見）
- **其他用戶頁面**：可以查看其他人的個人頁面和貼文
- **網格顯示**：貼文以方形網格展示，貼文上即時顯示互動數據

## 技術架構

### Frontend

- **Vue.js 3** - 使用 Composition API
- **Vite**
- **Vue Router**
- **Pinia**
- **Axios**
- **SCSS**

### Backend

- **Strapi**
- **SQLite**
- **JWT**
- **檔案上傳**

## 專案結構說明

```
vue_social_demo/
├── frontend/
│   ├── src/
│   │   ├── components/         # Vue 組件
│   │   │   ├── common/         # 通用組件（Avatar、Button、Modal 等）
│   │   │   ├── global/         # 全域模態視窗（Toast、ConfirmModal 等）
│   │   │   ├── layout/         # 布局組件（NavBar、Footer）
│   │   │   └── post/           # 貼文相關組件（PostCard、PostUpload 等）
│   │   ├── views/              # 頁面組件
│   │   │   ├── HomePage.vue    # 首頁
│   │   │   ├── LoginPage.vue   # 登入註冊頁
│   │   │   ├── ProfilePage.vue # 個人頁面
│   │   │   └── ProfileEdittingPage.vue # 編輯個人資料
│   │   ├── stores/             # Pinia 狀態管理
│   │   │   └── modules/        # 各功能模組的 store
│   │   ├── apis/               # API 請求函數
│   │   ├── router/             # Vue Router 設定
│   │   │   ├── index.js        # Router 初始化
│   │   │   ├── routes.js       # 路由配置
│   │   │   ├── guards/         # 路由守衛
│   │   │   │   ├── authGuard.js # 登入驗證守衛
│   │   │   │   └── index.js    # 守衛初始化
│   │   │   ├── modules/        # 路由模組
│   │   │   │   ├── authRoutes.js # 需登入的路由
│   │   │   │   └── publicRoutes.js # 公開路由
│   │   ├── utils/              # 工具函數（驗證、格式化等）
│   │   └── assets/             # 靜態資源和樣式
│   └── package.json
└── backend/                    # Strapi 後端
    ├── src/api/               # API 路由和控制器
    ├── config/                # 配置文件
    └── database/              # 資料庫文件
```

## 如何執行

### 環境需求

- Node.js >= 16.0.0
- npm >= 8.0.0

### 步驟

#### 1. 下載專案

```bash
git clone <你的-repository-url>
cd vue_social_demo
```

#### 2. 啟動後端

```bash
cd backend
npm install
npm run develop
```

這會在 `http://localhost:1337` 啟動 Strapi，第一次會要你建立管理員帳號

#### 3. 啟動前端

```bash
cd frontend
npm install
npm run dev
```

前端會在 `http://localhost:5173` 執行

## 環境設定

### 後端環境變數

在 `backend` 目錄建立 `.env` 檔案：

```env
HOST=0.0.0.0
PORT=1337
APP_KEYS=你的密鑰
JWT_SECRET=你的JWT密鑰
```

### 前端環境變數

在 `frontend` 目錄的 `.env.development`：

```env
VITE_API_BASE_URL=http://localhost:1337
```

## 主要功能細節

### 登入註冊流程

1. 註冊時會驗證 email 格式、密碼長度、確認密碼
2. 需要勾選同意條款才能註冊
3. 登入後會保存 JWT token 到 cookie
4. 重新整理頁面會自動檢查登入狀態

### 貼文發布流程

1. 點擊 NavBar 的「+」按鈕開啟貼文彈窗
2. 必須上傳至少一張圖片和輸入文字內容
3. 可以在內容中加入 `#標籤`，系統會自動解析
4. 發布後會自動關閉彈窗並重新載入貼文列表

### 社交互動機制

- **按讚**：點擊愛心圖示，會立即更新 UI，同時發送 API 請求
- **收藏**：點擊書籤圖示，收藏的貼文會出現在個人頁面
- **留言**：在貼文詳情頁面可以留言，會顯示留言者頭像和時間
- **個人頁面跳轉**：點擊頭像或用戶名會跳到該用戶的個人頁面

### 響應式設計

- 手機版會調整布局，NavBar 的搜尋框會變成按鈕
- 貼文詳情在手機上會變成全螢幕模式
- 個人頁面的網格會根據螢幕大小調整

## 已知問題

- 沒有用戶間的關注機制

## 未來想加的功能

- [✓] 多圖片上傳
- [✓] 編輯、刪除貼文
- [✓] 編輯、刪除留言
- [ ] 深色模式（已經有基礎設定但還沒完整實作）

---
